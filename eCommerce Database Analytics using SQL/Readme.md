# Introduction

I've recently joined Maven Fuzzy Factory as an eCommerce Database Analyst, where I'm part of the startup team working closely with the CEO, Head of Marketing, and Website Manager. Our primary focus is to navigate the online retail space, analyze marketing channels, optimize website performance, and measure the impact of our new product launches.

# Data Information

Our database plays a pivotal role in our analysis and decision-making processes. It consists of six key tables:

1. **website_sessions**: This table holds essential information about website sessions, including details like session duration, user source, campaign, device type, and referral sources.

2. **website_pageviews**: Here, we store data related to website page views, tracking user activity across our web pages.

3. **products**: This table is dedicated to our product catalog, containing valuable data about our products, including their names and creation dates.

4. **orders**: We keep track of all customer orders in this table, capturing data on order IDs, website sessions, user IDs, primary products, items purchased, prices, and costs.

5. **order_items**: Each order can consist of multiple items, and this table stores the details of these items, such as product IDs, prices, and costs.

6. **order_item_refunds**: In case of any refunds, we meticulously record refund data here, including refund amounts and their associations with orders and items.

As we dive deeper into the data, my goal is to become the data expert for Maven Fuzzy Factory, providing mission-critical analyses that help drive our business forward and achieve our goals.

## Traffic Source Analysis

In the realm of eCommerce, understanding where your customers are coming from and which channels are driving the highest quality traffic is paramount. This analysis focuses on leveraging the UTM parameters stored in our database to identify paid website sessions and determine the revenue generated by these paid campaigns.

**1. Identifying Traffic Sources**

We commence by exploring the size of various traffic sources, primarily examining the UTM content that drives the most sessions within the specified dataset range.

```sql
SELECT utm_content,
       Count(DISTINCT website_session_id) AS sessions
FROM   website_sessions
WHERE  website_session_id BETWEEN 1000 AND 2000
GROUP  BY utm_content
ORDER  BY sessions DESC;
```

**Result:**

| utm_content | sessions |
|-------------|----------|
| g_ad_1      | 975      |
| null        | 18       |
| g_ad_2      | 6        |
| b_ad_2      | 2        |

In this context, 'g_ad_1' stands out as the dominant traffic source, driving 975 sessions. Null entries are also present, representing traffic without specific UTM content, totaling 18 sessions. Additionally, 'g_ad_2' and 'b_ad_2' contribute smaller session counts.

**2. Linking Traffic Sources to Orders**

Next, we expand our analysis to link these traffic sources to orders, gaining insights into how effectively these sources convert sessions into actual orders.

```sql
SELECT a.utm_content,
       Count(DISTINCT a.website_session_id) AS sessions,
       Count(DISTINCT b.order_id)           AS orders
FROM   website_sessions a
       LEFT JOIN orders b
              ON b.website_session_id = a.website_session_id
WHERE  a.website_session_id BETWEEN 1000 AND 2000
GROUP  BY a.utm_content
ORDER  BY sessions DESC;
```

**Result:**

| utm_content | sessions | orders |
|-------------|----------|--------|
| g_ad_1      | 975      | 35     |
| null        | 18       | 0      |
| g_ad_2      | 6        | 0      |
| b_ad_2      | 2        | 0      |

Unsurprisingly, 'g_ad_1' still leads in sessions with 975, contributing 35 orders. However, it's notable that 'null,' 'g_ad_2,' and 'b_ad_2' did not result in any orders during this period.

**3. Session-to-Order Conversion Rate**

To provide a comprehensive view, we calculate the session-to-order conversion rate for each traffic source.

```sql
SELECT a.utm_content,
       Count(DISTINCT a.website_session_id)    AS sessions,
       Count(DISTINCT b.order_id)              AS orders,
       Round(( Count(DISTINCT b.order_id) / Count(DISTINCT
             a.website_session_id) ) * 100, 2) AS sess_ord_conv_rate
FROM   website_sessions a
       LEFT JOIN orders b
              ON b.website_session_id = a.website_session_id
WHERE  a.website_session_id BETWEEN 1000 AND 2000
GROUP  BY a.utm_content
ORDER  BY sessions DESC;
```

**Result:**

| utm_content | sessions | orders | sess_ord_conv_rate |
|-------------|----------|--------|--------------------|
| g_ad_1      | 975      | 35     | 3.59               |
| null        | 18       | 0      | 0.00               |
| g_ad_2      | 6        | 0      | 0.00               |
| b_ad_2      | 2        | 0      | 0.00               |

When assessing the session-to-order conversion rates, 'g_ad_1' shows a rate of 3.59%. The other sources, including 'null,' 'g_ad_2,' and 'b_ad_2,' did not yield any conversions during this analyzed period.

In summary, this analysis provides insights into the effectiveness of various traffic sources in driving sessions and orders, with 'g_ad_1' being the most significant contributor to both sessions and orders. Understanding these conversion rates is crucial for optimizing our marketing strategies and improving the overall business performance.

